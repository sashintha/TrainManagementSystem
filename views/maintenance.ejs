<!DOCTYPE html>
<html>
  <head>
	<title>MAINTENANCE TABLE</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/maintenanceTable.css">
</head>
  <body>
    <div class="container">
      <div class="row header justify-content-evenly">
        <!-- header -->
          <div class="col-1">
            <form action="/dashboard" method="GET">
              <button type="submit" class="btn btn-dark">Back</button>
            </form>
          </div>
          <div class="col-10 h_title"> 
            M A I N T E N A N C E  
          </div>
          <div class="col-1">
            <form action="/" method="GET">
              <button type="submit" class="btn btn-dark">Logout</button>
            </form>
          </div>
      </div>

      <!-- Table Titles Row -->
      <div class="row titleContent">
        <div class="col-10 gy-2">
          <div class="p-3 border bg-dark entityTitle" style="height:81.333px;">
          MAINTENANCE TABLE
          </div>
        </div>
        <div class="col-2 gy-2">
          <div class="p-3 border bg-dark entityTitle">
           MAINTENANCE COUNT
          </div>
        </div>
      </div>

      <div class="row mainContent">
        <div class="col-10 gy-2" style="padding-bottom: 50px;">
          <div class="p-3 border bg-dark entity">
            <div class="col table_content">
              <table class="table" style="color:white">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Type</th>
                    <th scope="col">Maintain Date</th>
                    <th scope="col">Performed By</th>
                    <th scope="col">Cost</th>
                    <th scope="col">Supervised By</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- loop through maintenance table (specific to login) and display data in a table -->
                      <% for(var i=0; i<main_log.length; i++) {%>
                      <tr>
                          <th scope="row"><%= main_log[i]['maintainLogID'] %></th>
                          <td><%= main_log[i]['maintainType'] %></td>
                          <td><%= main_log[i]['maintainDate'] %></td>
                          <td><%= main_log[i]['maintainPerformBy'] %></td>
                          <td><%= main_log[i]['cost'] %></td>
                          <td><%= main_log[i]['supervisedBy']%></td>
                      </tr>
                      <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col-2 gy-2" style="padding-bottom: 50px;">
          <div class="p-3 border bg-dark entity">
            <div class="col table_content">
              <table class="table" style="color:white">
                <thead>
                  <tr>
                    <th scope="col">Cart</th>
                    <th scope="col">Total</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- loop through carts and display maintained cart count -->
                      <% for(var i=0; i<cartCount.length; i++) {%>
                      <tr>
                          <th scope="row"><%= cartCount[i]['cartNo'] %></th>
                          <td><%= cartCount[i]['COUNT(*)'] %></td>
                      </tr>
                      <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>